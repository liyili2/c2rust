Program:
  items:
    UseDecl:
      paths:
        None
      aliases:
        None
    ExternBlock:
      abi:
        'C'
      items:
        ExternFunctionDecl:
          name:
            'printf'
          params:
            PointerType:
              isMutable:
                False
              pointee_type:
                TypePathExpression:
                  type:
                    None
                  isMutable:
                    False
                  expr:
                    None
                  isUnsafe:
                    False
                  last_type:
                    ''
                  type_path:
                    'libc'
                    ''
          return_type:
            TypePathExpression:
              type:
                None
              isMutable:
                False
              expr:
                None
              isUnsafe:
                False
              last_type:
                ''
              type_path:
                'libc'
                ''
          visibility:
            None
        ExternFunctionDecl:
          name:
            'malloc'
          params:
            TypePathExpression:
              type:
                None
              isMutable:
                False
              expr:
                None
              isUnsafe:
                False
              last_type:
                ''
              type_path:
                'libc'
                ''
          return_type:
            PointerType:
              isMutable:
                True
              pointee_type:
                TypePathExpression:
                  type:
                    None
                  isMutable:
                    False
                  expr:
                    None
                  isUnsafe:
                    False
                  last_type:
                    ''
                  type_path:
                    'libc'
                    ''
          visibility:
            None
        ExternFunctionDecl:
          name:
            'free'
          params:
            PointerType:
              isMutable:
                True
              pointee_type:
                TypePathExpression:
                  type:
                    None
                  isMutable:
                    False
                  expr:
                    None
                  isUnsafe:
                    False
                  last_type:
                    ''
                  type_path:
                    'libc'
                    ''
          return_type:
            None
          visibility:
            None
    Attribute:
      name:
        'derive'
      args:
        ('Copy', None)
        ('Clone', None)
    Attribute:
      name:
        'repr'
      args:
        ('C', None)
    StructDef:
      name:
        'Node'
      fields:
        StructField:
          declarationInfo:
            DeclarationInfo:
              name:
                'key'
              type:
                SafeNonNullWrapper:
                  type:
                    TypePathExpression:
                      type:
                        None
                      isMutable:
                        False
                      expr:
                        None
                      isUnsafe:
                        False
                      last_type:
                        ''
                      type_path:
                        'libc'
                        ''
              visibility:
                None
        StructField:
          declarationInfo:
            DeclarationInfo:
              name:
                'left'
              type:
                SafeNonNullWrapper:
                  type:
                    PointerType:
                      isMutable:
                        True
                      pointee_type:
                        'Node'
              visibility:
                None
        StructField:
          declarationInfo:
            DeclarationInfo:
              name:
                'right'
              type:
                SafeNonNullWrapper:
                  type:
                    PointerType:
                      isMutable:
                        True
                      pointee_type:
                        'Node'
              visibility:
                None
        StructField:
          declarationInfo:
            DeclarationInfo:
              name:
                'height'
              type:
                SafeNonNullWrapper:
                  type:
                    TypePathExpression:
                      type:
                        None
                      isMutable:
                        False
                      expr:
                        None
                      isUnsafe:
                        False
                      last_type:
                        ''
                      type_path:
                        'libc'
                        ''
              visibility:
                None
    Attribute:
      name:
        'no_mangle'
      args:

    FunctionDef:
      identifier:
        'height'
      params:
        FunctionParamList:
          params:
            Param:
              declarationInfo:
                DeclarationInfo:
                  name:
                    'N'
                  type:
                    SafeNonNullWrapper:
                      type:
                        PointerType:
                          isMutable:
                            True
                          pointee_type:
                            'Node'
                  visibility:
                    None
              isMutable:
                True
          param_len:
            0
      return_type:
        TypePathExpression:
          type:
            None
          isMutable:
            False
          expr:
            None
          isUnsafe:
            False
          last_type:
            SafeNonNullWrapper:
              type:
                ''
          type_path:
            'libc'
            ''
      body:
        Block:
          stmts:
            IfStmt:
              body:
                None
              condition:
                FunctionCall:
                  body:
                    None
                  caller:
                    <built-in function id>
                  callee:
                    FieldAccessExpr:
                      type:
                        None
                      isMutable:
                        False
                      expr:
                        None
                      isUnsafe:
                        False
                      receiver:
                        IdentifierExpr:
                          type:
                            None
                          isMutable:
                            False
                          expr:
                            None
                          isUnsafe:
                            False
                          name:
                            'N'
                      name:
                        IdentifierExpr:
                          type:
                            None
                          isMutable:
                            False
                          expr:
                            None
                          isUnsafe:
                            False
                          name:
                            'is_null'
                  args:

              then_branch:
                Block:
                  stmts:
                    ReturnStmt:
                      body:
                        None
                      value:
                        CastExpr:
                          type:
                            TypePathExpression:
                              type:
                                None
                              isMutable:
                                False
                              expr:
                                None
                              isUnsafe:
                                False
                              last_type:
                                SafeNonNullWrapper:
                                  type:
                                    ''
                              type_path:
                                'libc'
                                ''
                          isMutable:
                            False
                          expr:
                            IntLiteral:
                              type:
                                IntType:
                              isMutable:
                                False
                              expr:
                                None
                              isUnsafe:
                                False
                              value:
                                0
                          isUnsafe:
                            False
                          typePath:
                            None
                  isUnsafe:
                    False
              else_branch:
                None
            ReturnStmt:
              body:
                None
              value:
                FieldAccessExpr:
                  type:
                    None
                  isMutable:
                    False
                  expr:
                    None
                  isUnsafe:
                    False
                  receiver:
                    FunctionCall:
                      type:
                        None
                      isMutable:
                        False
                      expr:
                        None
                      isUnsafe:
                        False
                      caller:
                        FunctionCall:
                          type:
                            None
                          isMutable:
                            False
                          expr:
                            None
                          isUnsafe:
                            False
                          caller:
                            IdentifierExpr:
                              type:
                                None
                              isMutable:
                                True
                              expr:
                                None
                              isUnsafe:
                                False
                              name:
                                'N'
                          callee:
                            'as_ref'
                          args:

                      callee:
                        'unwrap'
                      args:

                  name:
                    IdentifierExpr:
                      type:
                        None
                      isMutable:
                        True
                      expr:
                        None
                      isUnsafe:
                        False
                      name:
                        'height'
          isUnsafe:
            False
      isUnsafe:
        False
    Attribute:
      name:
        'no_mangle'
      args:

    FunctionDef:
      identifier:
        'max'
      params:
        FunctionParamList:
          params:
            Param:
              declarationInfo:
                DeclarationInfo:
                  name:
                    'a'
                  type:
                    SafeNonNullWrapper:
                      type:
                        TypePathExpression:
                          type:
                            None
                          isMutable:
                            False
                          expr:
                            None
                          isUnsafe:
                            False
                          last_type:
                            ''
                          type_path:
                            'libc'
                            ''
                  visibility:
                    None
              isMutable:
                True
            Param:
              declarationInfo:
                DeclarationInfo:
                  name:
                    'b'
                  type:
                    SafeNonNullWrapper:
                      type:
                        TypePathExpression:
                          type:
                            None
                          isMutable:
                            False
                          expr:
                            None
                          isUnsafe:
                            False
                          last_type:
                            ''
                          type_path:
                            'libc'
                            ''
                  visibility:
                    None
              isMutable:
                True
          param_len:
            0
      return_type:
        TypePathExpression:
          type:
            None
          isMutable:
            False
          expr:
            None
          isUnsafe:
            False
          last_type:
            SafeNonNullWrapper:
              type:
                ''
          type_path:
            'libc'
            ''
      body:
        Block:
          stmts:

          isUnsafe:
            False
      isUnsafe:
        False
    None
    None
    TopLevelVarDef:
      declarationInfo:
        DeclarationInfo:
          name:
            'b'
          type:
            None
          visibility:
            None
      fields:
        VarDefField:
          declarationInfo:
            DeclarationInfo:
              name:
                'a'
              type:
                None
              visibility:
                None
      def_kind:
        None
      isUnsafe:
        False
      initial_val:
        None